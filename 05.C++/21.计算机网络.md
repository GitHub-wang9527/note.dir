### TCP和UDP区别

|   | TCP  | UDP  |
| ------------ | ------------ | ------------ |
|   | 是面向连接的  | 是无连接的  |
|   | 数据可靠无差错但效率低  | 不一定可靠但传输效率高  |
|   |  一对一  | 一对一、一对多 |
|   |  基于流  | 基于报文 |

### 三次握手

    1. 听得到吗         客户端发送syn包（syn=x）到服务器
    2. 听得到          服务器收到syn包，必须确认客户的SYN（ack=x+1），同时自己也发送一个SYN包（syn=y），即SYN+ACK包
    3. 好的           客户端收到服务器的SYN+ACK包，向服务器发送确认包ACK(ack=y+1）

### 四次挥手

    由于TCP连接是全双工的,断开一个TCP连接,需要客户端与服务器发送四个包来确认连接的断开

    1. 客：我这边结束了
    2. 服：ok
    3. 服：我这边也结束了
    4. 客: 好的

### 简述OSI网络分层以及各层对应的协议

 OSI七层模型 | TCP/IP四层模型       | 协议 |设备
---|---|---|--
应用层 <td rowspan="3"> 应用层      |http、ftp  |
表示层                              |JPEG、MPEG、ASII |
会话层                              | DNS、SSL |
传输层   | 传输层                   |TCP、UDP|网卡工作在传输层及其之上
网络层    | 网络层                  |IP|路由器
数据链路层  <td rowspan="2">数据链路层 |Wi-Fi(IEEE 802.11)、MAC、PPP |网桥，交换机|
物理层                                  |RJ45、CLOCK、IEEE802.3 |网卡，网线，集线器，中继器，调制解调器|

### TCP保证数据的完整

https://blog.csdn.net/qq_40459977/article/details/123079343

	检验和：发送端按照特定算法计算出 TCP 报文段的检验和并存储在 TCP 首部中的对应字段上，接收端在接收时会以同样的方式计算校验和，如果不一致，说明报文段出现错误，会将其丢弃。
	序号与确认序号：对乱序的数据进行排序后发给应用层，并丢弃重复的数据。
	超时重传机制：当 TCP 发出一个报文段后，它会启动一个定时器，等待目的端确认收到这个报文段。如果不能及时收到一个确认，将重发这个报文段，后面会细讲这个机制。
	连接管理：也就是三次握手和四次挥手，连接的可靠性是整体可靠性的前提，本文第二部分将会详细介绍连接管理的内容。
	流量控制：TCP 双方都有固定大小的缓冲区，流量控制的原理是利用滑动窗口控制数据发送速度，避免缓冲区溢出导致数据丢失。
	拥塞控制：利用慢启动和拥塞避免等算法实现了拥塞控制。
        慢启动：
        拥塞避免算法：
            若出现超时，则令 ssthresh = cwnd/2，然后重新执行慢开始算法，降低门限为当前超时的拥塞窗口值一半
            一般情况下会先触发，快重传机制，然后开始快恢复。
        快重传：接收方发现中间序列的某个包丢失，则在收到之后的包的时候，发送收到的之前包的ack，连续三次冗余
        快恢复：慢开始门限sstresh和拥塞窗口cwnd都设置为当前拥塞窗口的一半，然后执行拥塞避免算法

























