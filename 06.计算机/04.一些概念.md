### 可重入和线程安全

&emsp;&emsp;可重入函数，与多线程无关，可重入概念是依据单一线程提出来的。当然，多线程可重入是他的扩展。  
&emsp;&emsp;一个函数被同一个线程调用2次以上，得到的结果具有可再现性(多次调用函数，得到的结果是一样的)。那么我们说这个函数是可重入的。

&emsp;&emsp;为了保证函数是可重入的，需要做到以下几点：

+ 不在函数内部使用静态或者全局数据
+ 不返回静态或者全局数据，所有的数据都由函数调用者提供
+ 使用本地数据，或者通过制作全局数据的本地拷贝来保护全局数据
+ 如果必须访问全局数据，使用互斥锁来保护
+ 不调用不可重入函数